(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{307:function(t,a,s){"use strict";s.r(a);var e=s(10),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"_2022年7月31日-2-0-0-发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2022年7月31日-2-0-0-发布"}},[t._v("#")]),t._v(" 2022年7月31日 - 2.0.0 发布")]),t._v(" "),a("h4",{attrs:{id:"mybatis-mapper-发布-2-0-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mybatis-mapper-发布-2-0-0"}},[t._v("#")]),t._v(" mybatis-mapper 发布 2.0.0")]),t._v(" "),a("ul",[a("li",[t._v("mybatis-provider 升级为 2.1.1，同时引入了 mybatis-config 依赖，增加 mybatis-mapper.proerteis 用户自定义配置")]),t._v(" "),a("li",[t._v("ExampleWrapper condition 系列方法新增 Supplier 重载 "),a("a",{attrs:{href:"https://github.com/mybatis-mapper/mapper/pull/47",target:"_blank",rel:"noopener noreferrer"}},[t._v("#47"),a("OutboundLink")],1),t._v(" "),a("strong",[t._v("by darren")])]),t._v(" "),a("li",[t._v("更新代码生成器，解决"),a("code",[t._v("NAME=>nAME")]),t._v("错误，现在可以转换为 "),a("code",[t._v("name")])]),t._v(" "),a("li",[t._v("example / wrapper 新增字符串形式的排序方法重载 "),a("a",{attrs:{href:"https://github.com/mybatis-mapper/mapper/pull/34",target:"_blank",rel:"noopener noreferrer"}},[t._v("#34"),a("OutboundLink")],1),t._v(" "),a("strong",[t._v("by darren")])]),t._v(" "),a("li",[t._v("修复 jpa 模块 获取 Entity 类型错误的问题（排除了基本类型） "),a("a",{attrs:{href:"https://github.com/mybatis-mapper/mapper/pull/41",target:"_blank",rel:"noopener noreferrer"}},[t._v("#41"),a("OutboundLink")],1),t._v(" "),a("strong",[t._v("by darren")])]),t._v(" "),a("li",[t._v("完善和Spring的集成，完善Bean的初始化和加载，fixed "),a("a",{attrs:{href:"https://github.com/mybatis-mapper/mapper/issues/51",target:"_blank",rel:"noopener noreferrer"}},[t._v("#51"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("针对 mybatis-provider 中 @Entity.Prop 注解的兼容性改动")]),t._v(" "),a("li",[t._v("添加 bom 子模块，管理 mybatis-mapper 中所有子模块的依赖 "),a("a",{attrs:{href:"https://github.com/mybatis-mapper/mapper/pull/45",target:"_blank",rel:"noopener noreferrer"}},[t._v("#45"),a("OutboundLink")],1),t._v("（** by zhousiwei**），可以使用下面的方式管理依赖："),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencyManagement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencies")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n           "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("io.mybatis"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n           "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("mapper-bom"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n           "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.0.0"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n           "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("pom"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n           "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("scope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("import"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("scope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencies")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencyManagement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])]),t._v(" "),a("h4",{attrs:{id:"mybatis-mapper-proerteis-用户自定义配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mybatis-mapper-proerteis-用户自定义配置"}},[t._v("#")]),t._v(" mybatis-mapper.proerteis 用户自定义配置")]),t._v(" "),a("p",[t._v("关于配置的详细设计和实现，参考： https://blog.csdn.net/isea533/category_11904924.html")]),t._v(" "),a("p",[t._v("目前可配置的参数如下：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("mybatis.provider.style")]),t._v("，默认值为 "),a("code",[t._v("lower_underscore")]),t._v("，可选值如下：\n"),a("ul",[a("li",[t._v("normal 不做转换")]),t._v(" "),a("li",[t._v("lower_underscore 驼峰转下划线")]),t._v(" "),a("li",[t._v("upper_underscore 驼峰转大写下划线")]),t._v(" "),a("li",[t._v("lower 转小写")]),t._v(" "),a("li",[t._v("upper 转大写\n支持扩展，详情看 mybatis-provider 项目")])])])]),t._v(" "),a("p",[t._v("支持下面 3 个参数：")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Entity.Table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    props "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Entity.Prop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deleteByExample.allowEmpty"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Entity.Prop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updateByExample.allowEmpty"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Entity.Prop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updateByExampleSelective.allowEmpty"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("上面代码可以针对单个实体进行配置，也可以在配置文件中配置全局的默认配置。")]),t._v(" "),a("p",[t._v("除了直接在用户自定义配置文件中配置外，也支持系统变量和环境变量，使用 Spring Boot 时，也支持 Spring Boot 的所有外部化配置方式，支持在 application.[yaml|properties] 中配置，例如 yaml 方式：")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mybatis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("provider")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lower_underscore\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deleteByExample")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("allowEmpty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("updateByExample")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("allowEmpty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("updateByExampleSelective")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("allowEmpty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 还可以使用 spring boot 推荐的形式")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("update-by-example-selective")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("allow-empty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n")])])]),a("h4",{attrs:{id:"mybatis-provider-发布-2-1-1-版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mybatis-provider-发布-2-1-1-版本"}},[t._v("#")]),t._v(" mybatis-provider 发布 2.1.1 版本")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("EntityProps")]),t._v(" 和 "),a("code",[t._v("@Entity.Prop")]),t._v(" 不兼容性改动，简化了类型操作。")]),t._v(" "),a("li",[t._v("去掉了 "),a("code",[t._v("NameConvert")]),t._v(" 接口和 "),a("code",[t._v("Utils")]),t._v(" 中的相关方法（"),a("code",[t._v("Style")]),t._v("可以实现类似功能）")]),t._v(" "),a("li",[a("code",[t._v("EntityProps")]),t._v(" 中 "),a("code",[t._v("getProp")]),t._v(" 方法支持 "),a("code",[t._v("ConfigHelper")]),t._v(" 全局配置")])]),t._v(" "),a("h4",{attrs:{id:"mybatis-provider-发布-2-1-0-版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mybatis-provider-发布-2-1-0-版本"}},[t._v("#")]),t._v(" mybatis-provider 发布 2.1.0 版本")]),t._v(" "),a("p",[t._v("大版本更新，默认不需要给所有字段添加注解，可以通过 "),a("code",[t._v('@Entity.Table(style="normal")')]),t._v(" 指定字段转换样式，默认空时使用 "),a("code",[t._v("lower_underscore")]),t._v("。")]),t._v(" "),a("p",[t._v("默认可选值如下：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("normal")]),t._v(": 不做转换（不是默认值，需要设置）")]),t._v(" "),a("li",[a("code",[t._v("lower")]),t._v(": 转小写")]),t._v(" "),a("li",[a("code",[t._v("upper")]),t._v(": 转大写")]),t._v(" "),a("li",[a("code",[t._v("lower_underscore")]),t._v(": 驼峰转小写下划线（默认值）")]),t._v(" "),a("li",[a("code",[t._v("upper_underscore")]),t._v(": 驼峰转大写下划线")])]),t._v(" "),a("p",[t._v("想要覆盖默认值时，通过属性 "),a("code",[t._v("mybatis.provider.style")]),t._v(" 进行修改。")]),t._v(" "),a("p",[t._v("支持以下方式修改：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("在类路径下面创建 "),a("code",[t._v("mybatis-provider.properties")]),t._v(" 配置文件，通过 "),a("code",[t._v("mybatis.provider.style=xxx")]),t._v(" 指定值。")])]),t._v(" "),a("li",[a("p",[t._v("除了上面默认位置的配置外，还可以通过环境变量或者系统变量 "),a("code",[t._v("io.mybatis.provider.properties")]),t._v(" 指定上面的配置名，可以带路径，方便通过外部配置覆盖。"),a("br"),t._v("\n系统变量如： "),a("code",[t._v("java -jar -Dio.mybatis.provider.properties=custom.properties 可执行.jar")]),t._v("。")]),t._v(" "),a("p",[t._v("环境变量如： "),a("code",[t._v("IO_MYBATIS_PROVIDER_PROPERTIES=custom.properties java -jar 可执行.jar")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("支持通过环境变量或者系统变量配置，例如 "),a("code",[t._v("-Dmybatis.provider.style=xxx")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("支持Spring方式配置该值，Spring Boot 时可以在配置文件指定，支持 yaml 格式。")])])]),t._v(" "),a("p",[t._v("上述配置方式的优先级如下：")]),t._v(" "),a("p",[a("strong",[t._v("Spring（包含了Spring的外部化配置规则和优先级） > 系统变量 > 环境变量 > 配置文件")])]),t._v(" "),a("p",[t._v("除了上面默认几种样式外，还可以通过 SPI 方式扩展 "),a("code",[t._v("io.mybatis.provider.Style")]),t._v(" 接口，接口方法 "),a("code",[t._v("String getStyle()")]),t._v(" 返回值为这里要配置的值。")]),t._v(" "),a("h4",{attrs:{id:"mybatis-config-发布-1-1-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mybatis-config-发布-1-1-0"}},[t._v("#")]),t._v(" mybatis-config 发布 1.1.0")]),t._v(" "),a("p",[t._v("CSDN 专栏："),a("a",{attrs:{href:"https://blog.csdn.net/isea533/category_11904924.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java通用配置设计实现"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://blog.csdn.net/isea533/article/details/125643069",target:"_blank",rel:"noopener noreferrer"}},[t._v("设计"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://liuzh.blog.csdn.net/article/details/125643098",target:"_blank",rel:"noopener noreferrer"}},[t._v("JVM和环境变量实现"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/isea533/article/details/125643233",target:"_blank",rel:"noopener noreferrer"}},[t._v("用户配置实现"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://liuzh.blog.csdn.net/article/details/125657163",target:"_blank",rel:"noopener noreferrer"}},[t._v("版本配置实现"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://liuzh.blog.csdn.net/article/details/125643140",target:"_blank",rel:"noopener noreferrer"}},[t._v("集成 Spring"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://liuzh.blog.csdn.net/article/details/125643172",target:"_blank",rel:"noopener noreferrer"}},[t._v("扩展示例"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);